service: garden-aid-web-bff
provider:
    name: aws
    runtime: nodejs4.3
    iamRoleStatements:
       -  Effect: Allow
          Action:
            - dynamodb:DescribeTable
            - dynamodb:Query
            - dynamodb:Scan
            - dynamodb:GetItem
            - dynamodb:PutItem
            - dynamodb:UpdateItem
            - dynamodb:DeleteItem
          Resource: "arn:aws:dynamodb:ap-southeast-2:*:*"

defaults:
    stage: dev
    region: ap-southeast-2
package:
    include:
      - index.js
      - src
      - node_modules
    exclude:
      - test
      - coverage
      - package.json

functions:
    graphQl:
        handler: index.graphql
        memory: 128
        timeout: 3
        events:
            - http:
                path: graphql
                method: post
                cors: true
